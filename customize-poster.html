<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poster Customizer</title>
    <style>
    body {
        margin: 0;
        padding: 10px;
        font-family: 'Inter', sans-serif;
        background: linear-gradient(135deg, #38c5c8);
        background-attachment: fixed;
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
        color: #1a1a1a;
    }

    body::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(4px);
        z-index: -1;
    }

    h1 {
        text-align: center;
        color: white;
        margin: 0;
        padding: 20px 0;
        font-size: 2.8em;
        letter-spacing: 1px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        animation: slideDown 1s ease-out;
    }

    .posters-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        margin-top: 30px;
        padding: 10px;
    }

    .poster {
        position: relative;
        background-color: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        animation: fadeIn 0.6s ease;
        width: 50%;
    }

    .poster:hover {
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
    }

    .poster img {
        width: 90%;
        display: block;
        margin: auto;
        padding: 20px 0 10px 0;
        border-radius: 10px;
    }

    .logo-overlay {
        position: absolute;
        z-index: 1;
    }

    .details {
        position: absolute;
        bottom: 10px;
        color: white;
        font-weight: bold;
        text-shadow: 1px 1px 2px black;
    }

    #color1,
    #color2 {
        padding: 0 !important;
        margin-left: 10px;
        height: 30px;
        width: 60px;
        border: none;
        background: none;
    }

    .download-button,
    button {
        margin-top: 10px;
        padding: 12px 25px;
        background: linear-gradient(to right, #ffb028, #ff9900);
        color: #ffffff;
        border: none;
        cursor: pointer;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: bold;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .download-button:hover,
    button:hover {
        background: linear-gradient(to right, #ffaa33, #ff8700);
    }

    .chooselabel,
    .chooseimage {
        display: inline-block;
        background-color: #007bff;
        color: #fff;
        font-weight: 600;
        padding: 12px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        transition: background 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
        text-align: center;
        margin-top: 20px;
        margin-left: 70px;
    }

    .chooseimage1 {
        display: inline-block;
        background-color: #007bff;
        color: #fff;
        font-weight: 600;
        padding: 92px 25px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        transition: background 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
        text-align: center;
        margin-top: 20px;
        margin-left: 40px;
    }

    select,
    input[type="number"],
    input[type="color"] {
        padding: 10px;
        margin: 8px 5px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
        outline: none;
        background-color: #fff;
    }

    select:focus,
    input[type="number"]:focus,
    input[type="color"]:focus {
        border-color: #007bff;
        box-shadow: 0 0 6px rgba(0, 123, 255, 0.25);
    }

   

    input[type="color"] {
        width: 60px;
        height: 40px;
        padding: 2px;
        border: none;
    }

    #gradientDirection {
        padding: 10px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #ccc;
        margin-left: 10px;
    }

    input[type="number"] {
        width: 150px;
        max-width: 90%;
    }

    br+br {
        margin-bottom: 10px;
    }

    form,
    .input-wrapper {
        background-color: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        display: inline-block;
    }

    .main-d-flex {
        display: flex;
    }

    .d-flex {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 80px;
    }
</style>
   
</head>

<body>
    <h1>Poster Customizer</h1>

    <div class="main-d-flex">
        <label class="chooseimage1" for="imageUpload">Upload your Images</label>
        <div class="d-flex">
            <label class="chooseimage" for="logo1">Choose your Logo</label>
            <label class="chooseimage" for="logo2">Choose your Footer</label>
        </div>


        <select id="posterSize">
            <label for="">Choose Your P</label>
            <option value="1024x1024">Profile-Picture 1024x1024</option>
            <option value="1080x1920">Social-Media-Stories 1080x1920</option>
            <option value="1200x630">Facebook-Post 1200x630</option>
        </select>
    </div>
    <input type="file" id="imageUpload" multiple style="display: none;"><br><br>
    <input type="file" id="logo1" style="display: none;">
    <input type="file" id="logo2" style="display: none;"><br><br>

    <input type="number" id="logo1X" placeholder="Logo 1 Left">
    <input type="number" id="logo1Y" placeholder="Logo 1 Top">
    <input type="number" id="logo1Width" placeholder="Logo 1 Width">
    <input type="number" id="logo1Height" placeholder="Logo 1 Height"><br>

    <input type="number" id="logo2X" placeholder="Logo 2 Left">
    <input type="number" id="logo2Y" placeholder="Logo 2 Top">
    <input type="number" id="logo2Width" placeholder="Logo 2 Width">
    <input type="number" id="logo2Height" placeholder="Logo 2 Height"><br><br>

    <input type="text" id="businessName" placeholder="Business Name">
    <input type="text" id="contactNumber" placeholder="Contact Number"><br><br>

    <input type="color" id="color1" value="#000000">
    <input type="color" id="color2" value="#ffffff">
    <select id="gradientDirection">
        <option value="to bottom">To Bottom</option>
        <option value="to top">To Top</option>
        <option value="to left">To Left</option>
        <option value="to right">To Right</option>
    </select>



    <button onclick="customizePosters()">Customize</button>
    <button onclick="downloadAllPosters()">Download All</button>

    <div id="posters" class="posters-container"></div>

    <script>
        const defaultLogoPositions = {
            "1200x630": {
                logo1X: 450, logo1Y: 50, logo1Width: 300, logo1Height: 50,
                logo2X: 0, logo2Y: 580, logo2Width: 1200, logo2Height: 50
            },
            "1080x1920": {
                logo1X: 370, logo1Y: 150, logo1Width: 320, logo1Height: 100,
                logo2X: 0, logo2Y: 1820, logo2Width: 1080, logo2Height: 100
            },
            "1024x1024": {
                logo1X: 362, logo1Y: 80, logo1Width: 300, logo1Height: 80,
                logo2X: 0, logo2Y: 942, logo2Width: 1024, logo2Height: 80
            }
        };
        
        let posterFiles = [];
        const sizeMap = {
            "1024x1024": [1024, 1024],
            "1080x1920": [1080, 1920],
            "1200x630": [1200, 630],
        };
        
        document.getElementById('imageUpload').addEventListener('change', function (e) {
            posterFiles = Array.from(e.target.files);
            loadPosters();
        });
        
        function loadPosters() {
            const postersDiv = document.getElementById('posters');
            postersDiv.innerHTML = '';
        
            posterFiles.forEach((file, index) => {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const posterDiv = document.createElement('div');
                    posterDiv.className = 'poster';
                    posterDiv.innerHTML = `
                        <img src="${e.target.result}" alt="Poster" id="poster${index}" data-original="${e.target.result}">
                        <button class="download-button" onclick="downloadPoster(${index})">Download Poster</button>
                    `;
                    postersDiv.appendChild(posterDiv);
                };
                reader.readAsDataURL(file);
            });
        }
        
        function customizePosters() {
            const businessName = document.getElementById('businessName').value;
            const contactNumber = document.getElementById('contactNumber').value;
            const logoFile1 = document.getElementById('logo1').files[0];
            const logoFile2 = document.getElementById('logo2').files[0];
            const sizeValue = document.getElementById('posterSize').value;
            const [canvasWidth, canvasHeight] = sizeMap[sizeValue];
        
            if (!logoFile1 || !logoFile2) return;
        
            const reader1 = new FileReader();
            const reader2 = new FileReader();
        
            reader1.onload = function (e1) {
                const logoUrl1 = e1.target.result;
                reader2.onload = function (e2) {
                    const logoUrl2 = e2.target.result;
                    const posters = document.querySelectorAll('.poster');
        
                    posters.forEach((poster, index) => {
                        const originalSrc = poster.querySelector('img').getAttribute('data-original');
                        const originalImg = new Image();
                        originalImg.src = originalSrc;
        
                        originalImg.onload = () => {
                            const canvas = document.createElement('canvas');
                            canvas.width = canvasWidth;
                            canvas.height = canvasHeight;
                            const ctx = canvas.getContext('2d');
        
                            ctx.clearRect(0, 0, canvas.width, canvas.height);
        
                            const color1 = document.getElementById('color1').value;
                            const color2 = document.getElementById('color2').value;
                            const direction = document.getElementById('gradientDirection').value;
        
                            let gradient;
                            if (direction === 'to right') gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
                            else if (direction === 'to left') gradient = ctx.createLinearGradient(canvas.width, 0, 0, 0);
                            else if (direction === 'to top') gradient = ctx.createLinearGradient(0, canvas.height, 0, 0);
                            else gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
        
                            gradient.addColorStop(0, color1);
                            gradient.addColorStop(1, color2);
                            ctx.fillStyle = gradient;
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
        
                            ctx.drawImage(originalImg, 0, 0, canvas.width, canvas.height);
        
                            const logo1 = new Image();
                            logo1.src = logoUrl1;
                            logo1.onload = () => {
                                const logo1X = parseInt(document.getElementById('logo1X').value);
                                const logo1Y = parseInt(document.getElementById('logo1Y').value);
                                const logo1Width = parseInt(document.getElementById('logo1Width').value);
                                const logo1Height = parseInt(document.getElementById('logo1Height').value);
                                ctx.drawImage(logo1, logo1X, logo1Y, logo1Width, logo1Height);
        
                                const logo2 = new Image();
                                logo2.src = logoUrl2;
                                logo2.onload = () => {
                                    const logo2X = parseInt(document.getElementById('logo2X').value);
                                    const logo2Y = parseInt(document.getElementById('logo2Y').value);
                                    const logo2Width = parseInt(document.getElementById('logo2Width').value);
                                    const logo2Height = parseInt(document.getElementById('logo2Height').value);
                                    ctx.drawImage(logo2, logo2X, logo2Y, logo2Width, logo2Height);
        
                                    ctx.fillStyle = 'white';
                                    ctx.font = `${canvas.width * 0.03}px Arial`;
                                    ctx.fillText(businessName, canvas.width * 0.05, canvas.height - 30);
                                    ctx.fillText(contactNumber, canvas.width * 0.05, canvas.height - 5);
        
                                    const updatedImg = new Image();
                                    updatedImg.src = canvas.toDataURL();
                                    updatedImg.id = `poster${index}`;
                                    updatedImg.setAttribute('data-original', originalSrc);
                                    poster.innerHTML = '';
                                    poster.appendChild(updatedImg);
        
                                    const downloadBtn = document.createElement('button');
                                    downloadBtn.className = 'download-button';
                                    downloadBtn.textContent = 'Download Poster';
                                    downloadBtn.onclick = () => downloadPoster(index);
                                    poster.appendChild(downloadBtn);
                                };
                            };
                        };
                    });
                };
                reader2.readAsDataURL(logoFile2);
            };
            reader1.readAsDataURL(logoFile1);
        }
        
        function setupLiveUpdateInputs() {
            const inputs = [
                'logo1X', 'logo1Y', 'logo1Width', 'logo1Height',
                'logo2X', 'logo2Y', 'logo2Width', 'logo2Height',
                'businessName', 'contactNumber', 'color1', 'color2', 'gradientDirection', 'posterSize'
            ];
        
            function setLogoDefaults(sizeKey) {
                const defaults = defaultLogoPositions[sizeKey];
                if (defaults) {
                    document.getElementById('logo1X').value = defaults.logo1X;
                    document.getElementById('logo1Y').value = defaults.logo1Y;
                    document.getElementById('logo1Width').value = defaults.logo1Width;
                    document.getElementById('logo1Height').value = defaults.logo1Height;
        
                    document.getElementById('logo2X').value = defaults.logo2X;
                    document.getElementById('logo2Y').value = defaults.logo2Y;
                    document.getElementById('logo2Width').value = defaults.logo2Width;
                    document.getElementById('logo2Height').value = defaults.logo2Height;
                }
            }
        
            const posterSizeSelect = document.getElementById('posterSize');
            if (posterSizeSelect) {
                setLogoDefaults(posterSizeSelect.value);
                posterSizeSelect.addEventListener('input', () => {
                    setLogoDefaults(posterSizeSelect.value);
                    customizePosters();
                });
            }
        
            inputs.forEach(id => {
                const input = document.getElementById(id);
                if (input && id !== 'posterSize') {
                    input.addEventListener('input', () => {
                        customizePosters();
                    });
                }
            });
        }
        
        function downloadPoster(index) {
            const poster = document.getElementById(`poster${index}`);
            const img = new Image();
            img.src = poster.src;
            img.onload = () => {
                const canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                link.download = `Shahzad_Img${index + 1}.png`;
                link.click();
            };
        }
        
        function downloadAllPosters() {
            const posters = document.querySelectorAll('.poster img');
            posters.forEach((_, i) => downloadPoster(i));
        }
        
        setupLiveUpdateInputs();
        </script>
      